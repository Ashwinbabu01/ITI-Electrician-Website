// Questions data
const questions = [
    {
        q: "1. कार्यशाला में सुरक्षा का पहला नियम क्या है?",
        opts: [
            "A. अपने काम पर ध्यान दें",
            "B. सुरक्षा उपकरणों का उपयोग करें",
            "C. कार्यस्थल को साफ रखें",
            "D. अनधिकृत व्यक्तियों को प्रवेश न दें"
        ],
        ans: 0
    },
    {
        q: "2. आग बुझाने के लिए पानी का उपयोग किस वर्ग की आग के लिए किया जाता है?",
        opts: [
            "A. वर्ग A (ठोस सामग्री)",
            "B. वर्ग B (तरल पदार्थ)",
            "C. वर्ग C (गैस)",
            "D. वर्ग D (धातु)"
        ],
        ans: 0
    },
    {
        q: "3. विद्युत आग (Electrical Fire) के लिए किस अग्निशामक का उपयोग नहीं करना चाहिए?",
        opts: [
            "A. कार्बन डाइऑक्साइड (CO₂)",
            "B. ड्राई पाउडर",
            "C. पानी",
            "D. हैलोन (Halon)"
        ],
        ans: 2
    },
    {
        q: "4. सुरक्षा जूते (Safety Shoes) पहनने का क्या उद्देश्य है?",
        opts: [
            "A. पैरों को ठंडा रखना",
            "B. पैरों को आरामदायक रखना",
            "C. पैरों को भारी वस्तु गिरने से बचाना",
            "D. फिसलन से बचाव"
        ],
        ans: 2
    },
    {
        q: "5. विद्युत कार्य करते समय कौन सा उपकरण अनिवार्य है?",
        opts: [
            "A. साधारण जूते",
            "B. रबड़ के दस्ताने (इंसुलेटेड)",
            "C. लोहे के दस्ताने",
            "D. चमड़े के दस्ताने"
        ],
        ans: 1
    },
    {
        q: "6. बिजली के झटके के बाद पीड़ित को क्या प्राथमिक चिकित्सा देनी चाहिए?",
        opts: [
            "A. उसे तुरंत पानी पिलाना",
            "B. CPR (कार्डियोपल्मोनरी रिससिटेशन) देना, यदि आवश्यक हो",
            "C. उसे गर्म कंबल में लपेटना",
            "D. उसे छोड़कर भाग जाना"
        ],
        ans: 1
    },
    {
        q: "7. फर्स्ट एड बॉक्स में किस उपकरण का होना आवश्यक है?",
        opts: [
            "A. प्लायर",
            "B. स्क्रूड्राइवर",
            "C. एंटीसेप्टिक वाइप्स (Antiseptic Wipes)",
            "D. रेन्च (Wrench)"
        ],
        ans: 2
    },
    {
        q: "8. अग्निशमन यंत्र का उपयोग करते समय किस विधि का पालन किया जाता है?",
        opts: [
            "A. PASS (Pull, Aim, Squeeze, Sweep)",
            "B. APSS",
            "C. SAPS",
            "D. ASSP"
        ],
        ans: 0
    },
    {
        q: "9. कौन सा सुरक्षा चिह्न अनिवार्य चिह्न है?",
        opts: [
            "A. चेतावनी चिह्न (Warning Sign)",
            "B. निषेध चिह्न (Prohibition Sign)",
            "C. अनिवार्य चिह्न (Mandatory Sign)",
            "D. सूचना चिह्न (Information Sign)"
        ],
        ans: 2
    },
    {
        q: "10. कार्यशाला में तेल फैलने पर उसे साफ करने का सबसे अच्छा तरीका क्या है?",
        opts: [
            "A. पानी से धोना",
            "B. कपड़े से पोंछना",
            "C. बालू या धूल का उपयोग करना",
            "D. इसे अनदेखा करना"
        ],
        ans: 2
    },
    {
        q: "11. सुरक्षा नियमों का पालन करने का मुख्य उद्देश्य क्या है?",
        opts: [
            "A. उत्पादन बढ़ाना",
            "B. मशीनों की मरम्मत करना",
            "C. दुर्घटनाओं को रोकना",
            "D. कार्यस्थल को साफ रखना"
        ],
        ans: 2
    },
    {
        q: "12. यदि किसी व्यक्ति को बिजली का झटका लगे, तो सबसे पहला कदम क्या होना चाहिए?",
        opts: [
            "A. उसे खींचकर दूर करना",
            "B. पानी डालना",
            "C. बिजली का स्रोत बंद करना",
            "D. उसे कपड़े से ढकना"
        ],
        ans: 2
    },
    {
        q: "13. आग के लिए S2 सिद्धांत में \"सेव\" (Save) का क्या मतलब है?",
        opts: [
            "A. आग बुझाना",
            "B. व्यक्तियों को बचाना",
            "C. अलार्म बजाना",
            "D. सुरक्षित स्थान पर जाना"
        ],
        ans: 1
    },
    {
        q: "14. अग्नि त्रिकोण (Fire Triangle) में कौन से तीन तत्व होते हैं?",
        opts: [
            "A. पानी, लकड़ी, ऑक्सीजन",
            "B. ताप (Heat), ईंधन (Fuel), ऑक्सीजन (Oxygen)",
            "C. कार्बन, हाइड्रोजन, नाइट्रोजन",
            "D. प्रकाश, ऊष्मा, गैस"
        ],
        ans: 1
    },
    {
        q: "15. विद्युत झटके के खतरे से बचाव के लिए किस प्रकार के उपकरण का उपयोग किया जाता है?",
        opts: [
            "A. फ़्यूज़",
            "B. MCB",
            "C. अर्थिंग (Earthing)",
            "D. वोल्टमीटर"
        ],
        ans: 2
    },
    {
        q: "16. कार्यशाला में सुरक्षा के लिए \"5S\" प्रणाली का क्या उद्देश्य है?",
        opts: [
            "A. उत्पादन की गति बढ़ाना",
            "B. कार्यस्थल की सफाई और व्यवस्था",
            "C. मशीनों की गुणवत्ता बढ़ाना",
            "D. कर्मचारियों की संख्या कम करना"
        ],
        ans: 1
    },
    {
        q: "17. विद्युत सुरक्षा में \"लॉकआउट/टैगआउट\" (Lockout/Tagout) का क्या अर्थ है?",
        opts: [
            "A. मशीन को अनलॉक करना",
            "B. मशीन को बंद करके उसे फिर से चालू होने से रोकना",
            "C. मशीन को टैग करना",
            "D. मशीन को चालू करना"
        ],
        ans: 1
    },
    {
        q: "18. असुरक्षित कार्य करने का मुख्य कारण क्या है?",
        opts: [
            "A. मशीनों का खराब होना",
            "B. सुरक्षा नियमों की अनदेखी",
            "C. उत्पादन की उच्च दर",
            "D. कार्यस्थल का बड़ा आकार"
        ],
        ans: 1
    },
    {
        q: "19. चोट लगने पर रक्तस्राव (Bleeding) को रोकने के लिए सबसे अच्छा तरीका क्या है?",
        opts: [
            "A. घाव को पानी से धोना",
            "B. घाव पर बर्फ लगाना",
            "C. घाव पर सीधे दबाव डालना",
            "D. घाव को खुला छोड़ना"
        ],
        ans: 2
    },
    {
        q: "20. विद्युत उपकरण के रखरखाव के लिए कौन सी सुरक्षा सावधानी बरतनी चाहिए?",
        opts: [
            "A. उपकरणों को गीले कपड़े से साफ करना",
            "B. उपकरणों को नियमित रूप से जांचना और साफ करना",
            "C. उपकरणों को ओवरलोड करना",
            "D. उपकरणों को बिना जांचे उपयोग करना"
        ],
        ans: 1
    },
    {
        q: "21. विद्युत झटके के खतरे से बचने के लिए, किस प्रकार के तार का उपयोग करना चाहिए?",
        opts: [
            "A. लाइव तार (Live Wire)",
            "B. न्यूट्रल तार (Neutral Wire)",
            "C. अर्थ तार (Earth Wire)",
            "D. इंसुलेटेड तार"
        ],
        ans: 2
    },
    {
        q: "22. यदि कार्यशाला में आग लग जाए, तो सबसे पहले क्या करना चाहिए?",
        opts: [
            "A. तुरंत आग बुझाने की कोशिश करना",
            "B. अलार्म बजाना और आपातकालीन सेवाओं को सूचित करना",
            "C. सभी मशीनों को बंद करना",
            "D. कार्यस्थल से बाहर निकलना"
        ],
        ans: 1
    },
    {
        q: "23. फर्स्ट एड का मुख्य उद्देश्य क्या है?",
        opts: [
            "A. पीड़ित को ठीक करना",
            "B. डॉक्टर के आने तक जीवन बचाना और स्थिति को स्थिर करना",
            "C. पीड़ित को अस्पताल पहुंचाना",
            "D. पीड़ित को दवा देना"
        ],
        ans: 1
    },
    {
        q: "24. विद्युत कार्य करते समय शरीर को सूखे रखना क्यों महत्वपूर्ण है?",
        opts: [
            "A. शरीर को आरामदायक रखने के लिए",
            "B. विद्युत प्रवाह को कम करने के लिए",
            "C. पानी एक अच्छा कंडक्टर है और विद्युत झटके का खतरा बढ़ सकता है",
            "D. बिजली का बिल कम करने के लिए"
        ],
        ans: 2
    },
    {
        q: "25. आग बुझाने के लिए फोम (Foam) का उपयोग किस वर्ग की आग के लिए किया जाता है?",
        opts: [
            "A. वर्ग A (साधारण ज्वलनशील सामग्री)",
            "B. वर्ग B (ज्वलनशील तरल पदार्थ)",
            "C. वर्ग C (विद्युत उपकरण)",
            "D. वर्ग D (धातु)"
        ],
        ans: 1
    },
    {
        q: "26. घायल व्यक्ति को होश में लाने के लिए क्या करना चाहिए?",
        opts: [
            "A. उसे जोर से हिलाना",
            "B. उसे कुछ खाने के लिए देना",
            "C. उसे आराम से लिटाना और श्वास जांचना",
            "D. उसे ठंडे पानी से नहलाना"
        ],
        ans: 2
    },
    {
        q: "27. विद्युत कार्य करते समय \"Live\" तार को छूने से क्यों बचना चाहिए?",
        opts: [
            "A. बिजली का बिल बढ़ाने के लिए",
            "B. उपकरणों को नुकसान पहुंचाने के लिए",
            "C. गंभीर विद्युत झटका लगने का खतरा होता है",
            "D. समय बचाने के लिए"
        ],
        ans: 2
    },
    {
        q: "28. कार्यशाला में आग लगने का मुख्य कारण क्या है?",
        opts: [
            "A. अत्यधिक सफाई",
            "B. पानी का रिसाव",
            "C. गलत वायरिंग या शॉर्ट सर्किट",
            "D. कर्मचारियों का कम होना"
        ],
        ans: 2
    },
    {
        q: "29. सुरक्षा के लिए किस प्रकार के दस्ताने का उपयोग किया जाता है?",
        opts: [
            "A. साधारण कपड़े के दस्ताने",
            "B. चमड़े के दस्ताने",
            "C. प्लास्टिक के दस्ताने",
            "D. धातु के दस्ताने"
        ],
        ans: 1
    },
    {
        q: "30. विद्युत उपकरणों की मरम्मत करते समय सबसे महत्वपूर्ण सुरक्षा सावधानी क्या है?",
        opts: [
            "A. उपकरणों को चालू रखना",
            "B. पावर सप्लाई (Power Supply) बंद करना",
            "C. गले में ताला लगाना",
            "D. सुरक्षा जूते पहनना"
        ],
        ans: 1
    },
    {
        q: "31. आग बुझाने के लिए किस प्रकार के अग्निशामक का उपयोग ठोस ज्वलनशील सामग्री (जैसे लकड़ी, कागज) के लिए किया जाता है?",
        opts: [
            "A. कार्बन डाइऑक्साइड (CO₂)",
            "B. ड्राई पाउडर",
            "C. पानी",
            "D. फोम"
        ],
        ans: 2
    },
    {
        q: "32. यदि किसी व्यक्ति को जलने की चोट लगी हो, तो उसे क्या प्राथमिक चिकित्सा देनी चाहिए?",
        opts: [
            "A. घाव को तेल से ढकना",
            "B. घाव को ठंडा पानी से धोना",
            "C. घाव को गर्म पानी से धोना",
            "D. घाव को हवा में खुला छोड़ना"
        ],
        ans: 1
    },
    {
        q: "33. विद्युत कार्य करते समय किस प्रकार के उपकरण का उपयोग नहीं करना चाहिए?",
        opts: [
            "A. इंसुलेटेड प्लायर",
            "B. इंसुलेटेड स्क्रूड्राइवर",
            "C. धातु का स्केल",
            "D. इंसुलेटेड वायर स्ट्रिपर"
        ],
        ans: 2
    },
    {
        q: "34. कार्यशाला में सुरक्षा के लिए \"5S\" प्रणाली का दूसरा \"S\" (Set in order) क्या है?",
        opts: [
            "A. छंटनी (Sort)",
            "B. व्यवस्थित करना (Set in order)",
            "C. साफ करना (Shine)",
            "D. मानकीकरण (Standardize)"
        ],
        ans: 1
    },
    {
        q: "35. विद्युत झटके के खतरे से बचने के लिए, किस प्रकार के दस्ताने का उपयोग करना चाहिए?",
        opts: [
            "A. चमड़े के दस्ताने",
            "B. कपड़े के दस्ताने",
            "C. रबड़ के दस्ताने (इंसुलेटेड)",
            "D. प्लास्टिक के दस्ताने"
        ],
        ans: 2
    },
    {
        q: "36. कार्यशाला में सुरक्षा के लिए \"5S\" प्रणाली का तीसरा \"S\" (Shine) क्या है?",
        opts: [
            "A. छंटनी (Sort)",
            "B. व्यवस्थित करना (Set in order)",
            "C. साफ करना (Shine)",
            "D. मानकीकरण (Standardize)"
        ],
        ans: 2
    },
    {
        q: "37. यदि किसी व्यक्ति को सांस लेने में कठिनाई हो रही हो, तो उसे क्या प्राथमिक चिकित्सा देनी चाहिए?",
        opts: [
            "A. उसे तुरंत पानी पिलाना",
            "B. उसे गर्म कंबल में लपेटना",
            "C. हवा का मार्ग साफ करना और CPR देना",
            "D. उसे जोर से हिलाना"
        ],
        ans: 2
    },
    {
        q: "38. विद्युत कार्य करते समय \"Neutral\" तार का क्या उपयोग है?",
        opts: [
            "A. विद्युत झटका देना",
            "B. विद्युत धारा को वापस स्रोत तक ले जाना",
            "C. विद्युत उपकरण को जमीन से जोड़ना",
            "D. विद्युत उपकरण को चालू करना"
        ],
        ans: 1
    },
    {
        q: "39. सुरक्षा चिह्न (Safety Signs) का मुख्य उद्देश्य क्या है?",
        opts: [
            "A. कर्मचारियों को सजा देना",
            "B. काम को धीमा करना",
            "C. खतरों के बारे में चेतावनी देना और सुरक्षित व्यवहार को प्रोत्साहित करना",
            "D. उत्पादन बढ़ाना"
        ],
        ans: 2
    },
    {
        q: "40. बिजली के झटके के बाद पीड़ित को क्या नहीं देना चाहिए?",
        opts: [
            "A. गर्म पानी",
            "B. ठंडा पानी",
            "C. भोजन",
            "D. ये सभी"
        ],
        ans: 3
    },
    {
        q: "41. आग बुझाने के लिए किस प्रकार के अग्निशामक का उपयोग धातु की आग (Metal Fire) के लिए किया जाता है?",
        opts: [
            "A. पानी",
            "B. फोम",
            "C. ड्राई पाउडर",
            "D. कार्बन डाइऑक्साइड (CO₂)"
        ],
        ans: 2
    },
    {
        q: "42. कार्यशाला में सुरक्षा के लिए \"5S\" प्रणाली का चौथा \"S\" (Standardize) क्या है?",
        opts: [
            "A. छंटनी (Sort)",
            "B. व्यवस्थित करना (Set in order)",
            "C. साफ करना (Shine)",
            "D. मानकीकरण (Standardize)"
        ],
        ans: 3
    },
    {
        q: "43. विद्युत कार्य करते समय \"अर्थिंग\" (Earthing) का क्या उद्देश्य है?",
        opts: [
            "A. विद्युत धारा बढ़ाना",
            "B. वोल्टेज कम करना",
            "C. लीकेज करंट को जमीन में प्रवाहित करके सुरक्षा प्रदान करना",
            "D. उपकरणों को खराब करना"
        ],
        ans: 2
    },
    {
        q: "44. आग लगने पर किस वर्ग की आग में विद्युत उपकरण शामिल होते हैं?",
        opts: [
            "A. वर्ग A",
            "B. वर्ग B",
            "C. वर्ग C",
            "D. वर्ग D"
        ],
        ans: 2
    },
    {
        q: "45. सुरक्षित कार्यस्थल (Safe Workplace) का क्या लाभ है?",
        opts: [
            "A. उत्पादन में कमी",
            "B. दुर्घटनाओं में वृद्धि",
            "C. कर्मचारियों का मनोबल बढ़ाना और दुर्घटनाओं को कम करना",
            "D. अधिक लागत"
        ],
        ans: 2
    },
    {
        q: "46. कार्यशाला में सुरक्षा के लिए \"5S\" प्रणाली का पांचवा \"S\" (Sustain) क्या है?",
        opts: [
            "A. छंटनी (Sort)",
            "B. व्यवस्थित करना (Set in order)",
            "C. साफ करना (Shine)",
            "D. बनाए रखना (Sustain)"
        ],
        ans: 3
    },
    {
        q: "47. विद्युत कार्य करते समय किस प्रकार के उपकरण का उपयोग करना चाहिए?",
        opts: [
            "A. गैर-इंसुलेटेड प्लायर",
            "B. इंसुलेटेड प्लायर",
            "C. धातु का स्क्रूड्राइवर",
            "D. साधारण हथौड़ा"
        ],
        ans: 1
    },
    {
        q: "48. बिजली के झटके के बाद पीड़ित को क्या नहीं करना चाहिए?",
        opts: [
            "A. उसे गर्म कंबल में लपेटना",
            "B. उसे तुरंत डॉक्टर के पास ले जाना",
            "C. उसे जोर से हिलाना",
            "D. उसे श्वास जांचना"
        ],
        ans: 2
    },
    {
        q: "49. आग बुझाने के लिए किस प्रकार के अग्निशामक का उपयोग कार्बन डाइऑक्साइड (CO₂) के लिए किया जाता है?",
        opts: [
            "A. पानी",
            "B. फोम",
            "C. ड्राई पाउडर",
            "D. कार्बन डाइऑक्साइड (CO₂)"
        ],
        ans: 3
    },
    {
        q: "50. कार्यशाला में सुरक्षा नियमों का पालन करने का एक मुख्य लाभ क्या है?",
        opts: [
            "A. उत्पादन लागत में वृद्धि",
            "B. कार्यस्थल पर अनुशासनहीनता",
            "C. बेहतर कर्मचारी स्वास्थ्य और सुरक्षा",
            "D. कम मशीनों का उपयोग"
        ],
        ans: 2
    }
];

// Question rendering
const form = document.getElementById("mockTestForm");
questions.forEach((qObj, i) => {
    const block = document.createElement("div");
    block.className = "question-block";
    block.id = `qblock${i}`;
    block.innerHTML = `<div class="question">${qObj.q}</div>`;
    const optsDiv = document.createElement("div");
    optsDiv.className = "options";
    qObj.opts.forEach((opt, j) => {
        const input = document.createElement("input");
        input.type = "radio";
        input.name = `q${i}`;
        input.id = `q${i}_opt${j}`;
        input.value = j;
        input.tabIndex = (i*5+j+1);
        const label = document.createElement("label");
        label.setAttribute("for", input.id);
        label.innerText = opt;
        optsDiv.appendChild(input);
        optsDiv.appendChild(label);
    });
    block.appendChild(optsDiv);
    form.appendChild(block);
});

// Highlight active question on click
form.addEventListener("click", e => {
    if (e.target.name && e.target.name.startsWith("q")) {
        document.querySelectorAll(".question-block").forEach(b => b.classList.remove("active"));
        const idx = Number(e.target.name.substring(1));
        document.getElementById(`qblock${idx}`).classList.add("active");
    }
});

// Result calculation
document.getElementById("submit-btn").onclick = function() {
    let score = 0;
    const answers = [];
    for (let i = 0; i < questions.length; i++) {
        const userAns = (form.querySelector(`input[name="q${i}"]:checked`));
        const isCorrect = userAns && Number(userAns.value) === questions[i].ans;
        if (isCorrect) score++;
        answers.push({ user: userAns ? Number(userAns.value) : null, correct: questions[i].ans });
    }

    // Show result
    document.getElementById("result-section").style.display = "";
    document.getElementById("score").innerText = `आपका स्कोर: ${score} / ${questions.length}`;
    let remark = "";
    if (score === questions.length) remark = "शानदार! सभी उत्तर सही हैं।";
    else if (score >= 40) remark = "बहुत अच्छा! आप सुरक्षा और प्राथमिक चिकित्सा में निपुण हैं।";
    else if (score >= 30) remark = "ठीक है! लेकिन और अभ्यास की आवश्यकता है।";
    else remark = "अभ्यास करें, सुरक्षा संबंधी ज्ञान बढ़ाएं।";
    document.querySelector(".remark").innerText = remark;

    // Answers summary
    let summary = `<table style='width:100%;margin-top:1.5rem;border-collapse:collapse;font-size:1rem;'><tr style='background:#bbdefb;font-weight:bold;'><td>Q#</td><td>आपका उत्तर</td><td>सही उत्तर</td><td>स्थिति</td></tr>`;
    answers.forEach((a, i) => {
        const userTxt = (a.user !== null ? questions[i].opts[a.user] : "<i>उत्तर नहीं दिया</i>");
        const correctTxt = questions[i].opts[a.correct];
        const status = (a.user === a.correct ? "✅" : (a.user === null ? "❌" : "❌"));
        summary += `<tr style='background:${i%2?"#f3e5f5":"#e1bee7"};'><td>${i+1}</td><td>${userTxt}</td><td>${correctTxt}</td><td style='text-align:center'>${status}</td></tr>`;
    });
    summary += "</table>";
    document.getElementById("answers-summary").innerHTML = summary;
    window.scrollTo({ top: document.getElementById("result-section").offsetTop - 10, behavior: "smooth" });
    document.getElementById("submit-btn").disabled = true;
};